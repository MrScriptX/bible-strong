<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><style>body,html{margin:0;min-height:100%;font-family:system-ui,sans-serif}header{display:flex;background:#ddd}header>nav{flex:1;display:flex}header>nav a{padding:10px;color:#673ab8;text-decoration:none}header>nav a:hover{background-color:#f1e9ff}header>label{display:flex;align-items:center;padding:10px;color:#555;font-size:80%}header input{border:none;border-radius:3px;padding:2px 5px;font-size:100%}.app>section{padding:20px}</style></head><body data-swipe-threshold="100"><script type="module">var e,t,n,i,s,o,r,l={},a=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function u(e,t){for(var n in t)e[n]=t[n];return e}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function d(t,n,i){var s,o,r,l={};for(r in n)"key"==r?s=n[r]:"ref"==r?o=n[r]:l[r]=n[r];if(arguments.length>2&&(l.children=arguments.length>3?e.call(arguments,2):i),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===l[r]&&(l[r]=t.defaultProps[r]);return p(t,l,s,o,null)}function p(e,i,s,o,r){var l={type:e,props:i,key:s,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++n:r};return null==r&&null!=t.vnode&&t.vnode(l),l}function h(e){return e.children}function f(e,t){this.props=e,this.context=t}function g(e,t){if(null==t)return e.__?g(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?g(e):null}function v(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return v(e)}}function m(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!$.__r++||o!==t.debounceRendering)&&((o=t.debounceRendering)||s)($)}function $(){for(var e;$.__r=i.length;)e=i.sort((function(e,t){return e.__v.__b-t.__v.__b})),i=[],e.some((function(e){var t,n,i,s,o,r;e.__d&&(o=(s=(t=e).__v).__e,(r=t.__P)&&(n=[],(i=u({},s)).__v=s.__v+1,w(r,s,i,t.__n,void 0!==r.ownerSVGElement,null!=s.__h?[o]:null,n,null==o?g(s):o,s.__h),E(n,s),s.__e!=o&&v(s)))}))}function y(e,t,n,i,s,o,r,c,u,_){var d,f,v,m,$,y,b,k=i&&i.__k||a,x=k.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(m=n.__k[d]=null==(m=t[d])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?p(null,m,null,null,m):Array.isArray(m)?p(h,{children:m},null,null,null):m.__b>0?p(m.type,m.props,m.key,null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(v=k[d])||v&&m.key==v.key&&m.type===v.type)k[d]=void 0;else for(f=0;f<x;f++){if((v=k[f])&&m.key==v.key&&m.type===v.type){k[f]=void 0;break}v=null}w(e,m,v=v||l,s,o,r,c,u,_),$=m.__e,(f=m.ref)&&v.ref!=f&&(b||(b=[]),v.ref&&b.push(v.ref,null,m),b.push(f,m.__c||$,m)),null!=$?(null==y&&(y=$),"function"==typeof m.type&&m.__k===v.__k?m.__d=u=S(m,u,e):u=T(e,m,v,k,$,u),"function"==typeof n.type&&(n.__d=u)):u&&v.__e==u&&u.parentNode!=e&&(u=g(v))}for(n.__e=y,d=x;d--;)null!=k[d]&&("function"==typeof n.type&&null!=k[d].__e&&k[d].__e==n.__d&&(n.__d=g(i,d+1)),F(k[d],k[d]));if(b)for(d=0;d<b.length;d++)N(b[d],b[++d],b[++d])}function S(e,t,n){for(var i,s=e.__k,o=0;s&&o<s.length;o++)(i=s[o])&&(i.__=e,t="function"==typeof i.type?S(i,t,n):T(n,i,i,s,i.__e,t));return t}function b(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){b(e,t)})):t.push(e)),t}function T(e,t,n,i,s,o){var r,l,a;if(void 0!==t.__d)r=t.__d,t.__d=void 0;else if(null==n||s!=o||null==s.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(s),r=null;else{for(l=o,a=0;(l=l.nextSibling)&&a<i.length;a+=2)if(l==s)break e;e.insertBefore(s,o),r=o}return void 0!==r?r:s.nextSibling}function k(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||c.test(t)?n:n+"px"}function x(e,t,n,i,s){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||k(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||k(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i||e.addEventListener(t,o?V:C,o):e.removeEventListener(t,o?V:C,o);else if("dangerouslySetInnerHTML"!==t){if(s)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function C(e){this.l[e.type+!1](t.event?t.event(e):e)}function V(e){this.l[e.type+!0](t.event?t.event(e):e)}function w(n,i,s,o,r,a,c,d,p){var v,m,$,S,b,T,k,C,V,w,E,N=i.type;if(void 0!==i.constructor)return null;null!=s.__h&&(p=s.__h,d=i.__e=s.__e,i.__h=null,a=[d]),(v=t.__b)&&v(i);try{e:if("function"==typeof N){if(C=i.props,V=(v=N.contextType)&&o[v.__c],w=v?V?V.props.value:v.__:o,s.__c?k=(m=i.__c=s.__c).__=m.__E:("prototype"in N&&N.prototype.render?i.__c=m=new N(C,w):(i.__c=m=new f(C,w),m.constructor=N,m.render=A),V&&V.sub(m),m.props=C,m.state||(m.state={}),m.context=w,m.__n=o,$=m.__d=!0,m.__h=[]),null==m.__s&&(m.__s=m.state),null!=N.getDerivedStateFromProps&&(m.__s==m.state&&(m.__s=u({},m.__s)),u(m.__s,N.getDerivedStateFromProps(C,m.__s))),S=m.props,b=m.state,$)null==N.getDerivedStateFromProps&&null!=m.componentWillMount&&m.componentWillMount(),null!=m.componentDidMount&&m.__h.push(m.componentDidMount);else{if(null==N.getDerivedStateFromProps&&C!==S&&null!=m.componentWillReceiveProps&&m.componentWillReceiveProps(C,w),!m.__e&&null!=m.shouldComponentUpdate&&!1===m.shouldComponentUpdate(C,m.__s,w)||i.__v===s.__v){m.props=C,m.state=m.__s,i.__v!==s.__v&&(m.__d=!1),m.__v=i,i.__e=s.__e,i.__k=s.__k,i.__k.forEach((function(e){e&&(e.__=i)})),m.__h.length&&c.push(m);break e}null!=m.componentWillUpdate&&m.componentWillUpdate(C,m.__s,w),null!=m.componentDidUpdate&&m.__h.push((function(){m.componentDidUpdate(S,b,T)}))}m.context=w,m.props=C,m.state=m.__s,(v=t.__r)&&v(i),m.__d=!1,m.__v=i,m.__P=n,v=m.render(m.props,m.state,m.context),m.state=m.__s,null!=m.getChildContext&&(o=u(u({},o),m.getChildContext())),$||null==m.getSnapshotBeforeUpdate||(T=m.getSnapshotBeforeUpdate(S,b)),E=null!=v&&v.type===h&&null==v.key?v.props.children:v,y(n,Array.isArray(E)?E:[E],i,s,o,r,a,c,d,p),m.base=i.__e,i.__h=null,m.__h.length&&c.push(m),k&&(m.__E=m.__=null),m.__e=!1}else null==a&&i.__v===s.__v?(i.__k=s.__k,i.__e=s.__e):i.__e=function(t,n,i,s,o,r,a,c){var u,d,p,h=i.props,f=n.props,v=n.type,m=0;if("svg"===v&&(o=!0),null!=r)for(;m<r.length;m++)if((u=r[m])&&(u===t||(v?u.localName==v:3==u.nodeType))){t=u,r[m]=null;break}if(null==t){if(null===v)return document.createTextNode(f);t=o?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,f.is&&f),r=null,c=!1}if(null===v)h===f||c&&t.data===f||(t.data=f);else{if(r=r&&e.call(t.childNodes),d=(h=i.props||l).dangerouslySetInnerHTML,p=f.dangerouslySetInnerHTML,!c){if(null!=r)for(h={},m=0;m<t.attributes.length;m++)h[t.attributes[m].name]=t.attributes[m].value;(p||d)&&(p&&(d&&p.__html==d.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(e,t,n,i,s){var o;for(o in n)"children"===o||"key"===o||o in t||x(e,o,null,n[o],i);for(o in t)s&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||x(e,o,t[o],n[o],i)}(t,f,h,o,c),p)n.__k=[];else if(m=n.props.children,y(t,Array.isArray(m)?m:[m],n,i,s,o&&"foreignObject"!==v,r,a,r?r[0]:i.__k&&g(i,0),c),null!=r)for(m=r.length;m--;)null!=r[m]&&_(r[m]);c||("value"in f&&void 0!==(m=f.value)&&(m!==t.value||"progress"===v&&!m)&&x(t,"value",m,h.value,!1),"checked"in f&&void 0!==(m=f.checked)&&m!==t.checked&&x(t,"checked",m,h.checked,!1))}return t}(s.__e,i,s,o,r,a,c,p);(v=t.diffed)&&v(i)}catch(n){i.__v=null,(p||null!=a)&&(i.__e=d,i.__h=!!p,a[a.indexOf(d)]=null),t.__e(n,i,s)}}function E(e,n){t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function N(e,n,i){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,i)}}function F(e,n,i){var s,o;if(t.unmount&&t.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||N(s,null,n)),null!=(s=e.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){t.__e(e,n)}s.base=s.__P=null}if(s=e.__k)for(o=0;o<s.length;o++)s[o]&&F(s[o],n,"function"!=typeof e.type);i||null==e.__e||_(e.__e),e.__e=e.__d=void 0}function A(e,t,n){return this.constructor(e,n)}e=a.slice,t={__e:function(e,t){for(var n,i,s;t=t.__;)if((n=t.__c)&&!n.__)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(e)),s=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),s=n.__d),s)return n.__E=n}catch(t){e=t}throw e}},n=0,f.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=u({},this.state),"function"==typeof e&&(e=e(u({},n),this.props)),e&&u(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),m(this))},f.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),m(this))},f.prototype.render=h,i=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,r=0;var P=function(e,t,n,i){var s;t[0]=0;for(var o=1;o<t.length;o++){var r=t[o++],l=t[o]?(t[0]|=r?1:2,n[t[o++]]):t[++o];3===r?i[0]=l:4===r?i[1]=Object.assign(i[1]||{},l):5===r?(i[1]=i[1]||{})[t[++o]]=l:6===r?i[1][t[++o]]+=l+"":r?(s=e.apply(l,P(e,l,n,["",null])),i.push(s),l[0]?t[0]|=2:(t[o-2]=0,t[o]=s)):i.push(l)}return i},z=new Map;var I=function(e){var t=z.get(this);return t||(t=new Map,z.set(this,t)),(t=P(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,i=1,s="",o="",r=[0],l=function(e){1===i&&(e||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?r.push(0,e,s):3===i&&(e||s)?(r.push(3,e,s),i=2):2===i&&"..."===s&&e?r.push(4,e,0):2===i&&s&&!e?r.push(5,0,!0,s):i>=5&&((s||!e&&5===i)&&(r.push(i,0,s,n),i=6),e&&(r.push(i,e,0,n),i=6)),s=""},a=0;a<e.length;a++){a&&(1===i&&l(),l(a));for(var c=0;c<e[a].length;c++)t=e[a][c],1===i?"<"===t?(l(),r=[r],i=3):s+=t:4===i?"--"===s&&">"===t?(i=1,s=""):s=t+s[0]:o?t===o?o="":s+=t:'"'===t||"'"===t?o=t:">"===t?(l(),i=1):i&&("="===t?(i=5,n=s,s=""):"/"===t&&(i<5||">"===e[a][c+1])?(l(),3===i&&(r=r[0]),i=r,(r=r[0]).push(2,0,i),i=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),i=2):s+=t),3===i&&"!--"===s&&(i=4,r=r[0])}return l(),r}(e)),t),arguments,[])).length>1?t:t[0]}.bind(d);let L,M,O,H={data:""},R=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||H,D=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(})/g,U=/\/\*[^]*?\*\/|\s\s+|\n/g,j=(e,t)=>{let n,i="",s="",o="";for(let r in e){let l=e[r];"object"==typeof l?(n=t?t.replace(/([^,])+/g,(e=>r.replace(/([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):r,s+="@"==r[0]?"f"==r[1]?j(l,r):r+"{"+j(l,"k"==r[1]?"":t)+"}":j(l,n)):"@"==r[0]&&"i"==r[1]?i=r+" "+l+";":(r=r.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=j.p?j.p(r,l):r+":"+l+";")}return o[0]?(n=t?t+"{"+o+"}":o,i+n+s):i+s},B={},W=e=>{let t="";for(let n in e)t+=n+("object"==typeof e[n]?W(e[n]):e[n]);return t},G=(e,t,n,i,s)=>{let o="object"==typeof e?W(e):e,r=B[o]||(B[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!B[r]){let t="object"==typeof e?e:(e=>{let t,n=[{}];for(;t=D.exec(e.replace(U,""));)t[4]&&n.shift(),t[3]?n.unshift(n[0][t[3]]=n[0][t[3]]||{}):t[4]||(n[0][t[1]]=t[2]);return n[0]})(e);B[r]=j(s?{["@keyframes "+r]:t}:t,n?"":"."+r)}return((e,t,n)=>{-1==t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(B[r],t,i),r},q=(e,t,n)=>e.reduce(((e,i,s)=>{let o=t[s];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":j(e,""):e}return e+i+(null==o?"":o)}),"");function Y(e){let t=this||{},n=e.call?e(t.p):e;return G(n.unshift?n.raw?q(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>n?Object.assign(e,n.call?n(t.p):n):e),{}):n,R(t.target),t.g,t.o,t.k)}Y.bind({g:1});let X=Y.bind({k:1});function Z(e,t){let n=this||{};return function(){let i=arguments;function s(o,r){let l=Object.assign({},o),a=l.className||s.className;n.p=Object.assign({theme:M&&M()},l),n.o=/ *go\d+/.test(a),l.className=Y.apply(n,i)+(a?" "+a:""),t&&(l.ref=r);let c=l.as||e;return delete l.as,O&&c[0]&&O(l),L(c,l)}return t?t(s):s}}!function(e){if("undefined"==typeof document)wmr.ssr.head.elements.add({type:"link",props:{rel:"stylesheet",href:e}});else{if(document.querySelector('link[rel=stylesheet][href="'+e+'"]'))return;const t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}}("/assets/index.db66d5eb.css");const J=e=>{window.ReactNativeWebView||(window.ReactNativeWebView=window.ReactABI33_0_0NativeWebView||{postMessage(){}}),window.ReactNativeWebView.postMessage(JSON.stringify(e))},K=(e,t)=>`${e+.1*t*e}px`,Q=Z("svg")((({settings:{fontSizeScale:e}})=>({}))),ee=Z("div")((({settings:{theme:e}})=>({position:"relative",display:"inline-block",transform:"translateY(5px)",marginRight:"10px"}))),te=Z("div")((({settings:{theme:e,colors:t}})=>({background:t[e].primary,position:"absolute",width:"15px",height:"15px",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"arial",fontSize:"13px",fontWeight:"bold",color:"white",bottom:"0",right:"0px"}))),ne=({count:e,settings:t,onClick:n})=>I`<${ee} settings=${t}><${Q} width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" settings=${t} onClick=${n}><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/><//><${te} settings=${t}>${e}<//><//>`;const ie=Z("span")((({isParallel:e,settings:{fontSizeScale:t,theme:n,colors:i,fontFamily:s}})=>({fontFamily:s,webkitTouchCallout:"none",mozUserSelect:"none",msUserSelect:"none",khtmlUserSelect:"none",webkitUserSelect:"none",color:i[n].quart,fontSize:K(e?16:19,t),lineHeight:K(e?26:32,t)}))),se=Z("span")((({isParallel:e,settings:{fontSizeScale:t}})=>({paddingLeft:"3px",fontSize:K(e?9:14,t)}))),oe=({notesText:e,settings:t,onClick:n,isParallel:i})=>I`<span>${e.map((e=>{return I`<${ie} key=${e.key} settings=${t} isParallel=${i} onClick=${()=>n(e.key)}> [ <${se} isParallel=${i} settings=${t}> (${e.verses}) <//><span>${s=e.description,o=10,`${s.split(" ").splice(0,o).join(" ")}...`}</span>] <//>`;var s,o}))}</span>`;var re,le,ae,ce=0,ue=[],_e=t.__b,de=t.__r,pe=t.diffed,he=t.__c,fe=t.unmount;function ge(e,n){t.__h&&t.__h(le,e,ce||n),ce=0;var i=le.__H||(le.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function ve(e){return ce=1,function(e,t,n){var i=ge(re++,2);return i.t=e,i.__c||(i.__=[n?n(t):xe(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=le),i.__}(xe,e)}function me(e,n){var i=ge(re++,3);!t.__s&&ke(i.__H,n)&&(i.__=e,i.__H=n,le.__H.__h.push(i))}function $e(e){return ce=5,function(e,t){var n=ge(re++,7);return ke(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}((function(){return{current:e}}),[])}function ye(){ue.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(be),e.__H.__h.forEach(Te),e.__H.__h=[]}catch(le){e.__H.__h=[],t.__e(le,e.__v)}})),ue=[]}t.__b=function(e){le=null,_e&&_e(e)},t.__r=function(e){de&&de(e),re=0;var t=(le=e.__c).__H;t&&(t.__h.forEach(be),t.__h.forEach(Te),t.__h=[])},t.diffed=function(e){pe&&pe(e);var n=e.__c;n&&n.__H&&n.__H.__h.length&&(1!==ue.push(n)&&ae===t.requestAnimationFrame||((ae=t.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),Se&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);Se&&(t=requestAnimationFrame(n))})(ye)),le=null},t.__c=function(e,n){n.some((function(e){try{e.__h.forEach(be),e.__h=e.__h.filter((function(e){return!e.__||Te(e)}))}catch(ae){n.some((function(e){e.__h&&(e.__h=[])})),n=[],t.__e(ae,e.__v)}})),he&&he(e,n)},t.unmount=function(e){fe&&fe(e);var n=e.__c;if(n&&n.__H)try{n.__H.__.forEach(be)}catch(e){t.__e(e,n.__v)}};var Se="function"==typeof requestAnimationFrame;function be(e){var t=le;"function"==typeof e.__c&&e.__c(),le=t}function Te(e){var t=le;e.__c=e.__(),le=t}function ke(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function xe(e,t){return"function"==typeof t?t(e):t}const Ce=function(e,t){var n={__c:t="__cC"+r++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(m)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}(void 0),Ve=Ce.Provider;function we(e){let t,n=e[0],i=1;for(;i<e.length;){const s=e[i],o=e[i+1];if(i+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}Ce.Consumer;const Ee=Z("div")((({isSelected:e,settings:{theme:t,colors:n}})=>({display:"inline-block",transition:"background 0.3s ease",borderRadius:4,padding:"0 5px",background:n[t].lightPrimary,...e?{background:n[t].primary,color:"white"}:{}}))),Ne=({book:e,reference:t})=>{const{selectedCode:n,settings:i,onTouchMove:s}=function(e){var t=le.context[e.__c],n=ge(re++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(le)),t.props.value):e.__}(Ce),o=we([n,"optionalAccess",e=>e.reference,"optionalAccess",e=>e.toString,"call",e=>e()])===t||we([n,"optionalAccess",e=>e.reference])==Number(t);return I`<${Ee} onTouchStart=${s} onTouchEnd=${s} onClick=${()=>{J({type:"NAVIGATE_TO_STRONG",payload:{reference:`${Number(t)}`,book:e}})}} isSelected=${o} settings=${i}>${t}<//>`};const Fe=Z("div")((({settings:{theme:e}})=>({position:"relative",display:"inline-flex"}))),Ae=Z("div")((({settings:{theme:e,colors:t,fontSizeScale:n}})=>({fontFamily:"arial",padding:"2px 4px",borderRadius:40,color:t[e].default,backgroundColor:t[e].lightGrey,fontSize:K(12,n),marginLeft:5}))),Pe=({tag:e,settings:t})=>{if(!function(e){let t,n=e[0],i=1;for(;i<e.length;){const s=e[i],o=e[i+1];if(i+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}([e,"access",e=>e.tags,"optionalAccess",e=>e.length]))return null;const n=e.tags.slice(0,1);return I`<${Fe} settings=${t} onClick=${()=>J({type:"OPEN_HIGHLIGHT_TAGS",payload:e})}>${n.map((e=>I`<${Ae} key=${e.id} settings=${t}>${e.name}<//>`))}${!!(e.tags.length-1)&&I`<${Ae} settings=${t} style=${{opacity:.7}}> + ${e.tags.length-1}<//>`}<//>`},ze=Z("span")((({isParallel:e,settings:{fontSizeScale:t,fontFamily:n}})=>({fontFamily:n,fontSize:K(e?16:19,t),lineHeight:K(e?26:32,t)}))),Ie=Z("span")((({settings:{fontSizeScale:e}})=>({fontSize:K(14,e)}))),Le=({isParallel:e,selectedCode:t,verse:n,settings:i,isFocused:s,isTouched:o,isSelected:r,isVerseToScroll:l,highlightedColor:a,onTouchStart:c,onTouchEnd:u,onTouchMove:_,onTouchCancel:d,notesCount:p,inlineNotedVerses:h,isSelectionMode:f,notesText:g,navigateToNote:v,navigateToVerseNotes:m,tag:$})=>{const[y,S]=ve(n.Texte);return me((()=>{S(n.Texte)}),[n.Texte]),me((()=>{(({Texte:e,Livre:t})=>new Promise((n=>n(e.split(/(\d+[^{.|\s}]?\d+(?!\.?\d))/g).map(((e,n)=>Number.isInteger(Number(e))?I`<${Ne} book=${t} reference=${e} key=${n}/>`:e))))))({Texte:n.Texte,Livre:n.Livre}).then((e=>{S(e)}))}),[n.Livre,n.Texte]),I`<${Ve} value=${{selectedCode:t,settings:i,onTouchMove:_}}><${nt} settings=${i} id=${`verset-${n.Verset}`}><${tt} isFocused=${s} settings=${i} isTouched=${o} isSelected=${r} isVerseToScroll=${l&&1!==Number(n.Verset)} highlightedColor=${a}><${Ie} settings=${i}>${n.Verset} <//>${p&&!h&&!f&&I`<${ne} settings=${i} onClick=${m} count=${p}/>`}<${ze} isParallel=${e} settings=${i} onTouchStart=${c} onTouchEnd=${u} onTouchMove=${_} onTouchCancel=${d}>${y}<//>${$&&I`<${Pe} settings=${i} tag=${$}/>`}<//>${g&&h&&!f&&I`<${oe} isParallel=${e} settings=${i} onClick=${v} notesText=${g}/>`}<//><//>`};Z("div")((({settings:{textDisplay:e}})=>({display:e}))),Z("div")((({isSelected:e,settings:{theme:t,colors:n}})=>({display:"inline-block",transition:"background 0.3s ease",borderRadius:4,padding:5,...e?{background:n[t].primary}:{}}))),Z("span")((({settings:{fontSizeScale:e,fontFamily:t}})=>({fontSize:K(15,e),position:"relative",bottom:20,fontFamily:t,padding:"0 5px",display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}))),Z("div")((({isSelected:e,settings:{fontSizeScale:t,theme:n,colors:i,fontFamily:s}})=>({fontSize:K(18,t),fontFamily:s,color:i[n].primary,...e?{color:i[n].reverse}:{}}))),Z("div")((({settings:{fontSizeScale:e}})=>({fontSize:K(11,e),fontFamily:"arial",color:"rgba(0,0,0,0.3)"}))),Z("div")((({settings:{fontSizeScale:e,theme:t,colors:n,fontFamily:i}})=>({fontSize:K(16,e),lineHeight:K(25,e),fontFamily:i,direction:"ltr",textAlign:"left",padding:"10px",margin:"10px 0",background:n[t].lightGrey,borderRadius:4,position:"relative",paddingRight:30}))),Z("div")((()=>({width:30,height:30,top:5,right:5,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",fontSize:17,webkitTouchCallout:"none",mozUserSelect:"none",msUserSelect:"none",khtmlUserSelect:"none",webkitUserSelect:"none"}))),Z("div")((({isSelected:e,settings:{fontSizeScale:t,theme:n,colors:i,fontFamily:s}})=>({fontSize:K(18,t),fontFamily:s,color:i[n].default,marginTop:5+.1*t*5,...e?{color:i[n].reverse}:{}}))),Z("div")((({isSelected:e,settings:{fontSizeScale:t,theme:n,colors:i,fontFamily:s}})=>({fontSize:K(16,t),fontFamily:s,color:i[n].tertiary,marginTop:5+.1*t*5,...e?{color:i[n].reverse}:{}}))),Z("div")((({settings:{fontSizeScale:e}})=>({fontSize:K(10,e),lineHeight:K(20,e),fontFamily:"arial",color:"rgba(0,0,0,0.3)"})));const Me=({verse:e,settings:t,isHebreu:n,secondaryVerse:i,selectedCode:s})=>I`<div>coucou</div>`;const Oe=Z("div")((({settings:{textDisplay:e}})=>({display:e}))),He=Z("div")((e=>({display:"inline-block",position:"relative",transition:"background 0.3s ease",borderRadius:4,padding:"2px 4px"}))),Re=Z("div")((({isSelected:e,settings:{theme:t,colors:n}})=>({position:"absolute",top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)",borderRadius:8,pointerEvents:"none",transition:"0.5s ease",scale:.8,display:"none",padding:5,background:n[t].reverse,minWidth:"50px",border:`3px solid ${n[t].primary}`,boxShadow:"rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px",...e?{zIndex:3,display:"block",opacity:1,scale:1}:{}}))),De=Z("span")((({settings:{fontSizeScale:e,fontFamily:t}})=>({fontSize:K(15,e),position:"relative",fontFamily:t,padding:"0 5px",display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}))),Ue=Z("div")((({isSelected:e,settings:{fontSizeScale:t,theme:n,colors:i,fontFamily:s}})=>({fontSize:K(18,t),fontFamily:s,color:i[n].tertiary,...e?{color:i[n].reverse}:{}}))),je=Z("div")((({settings:{fontSizeScale:e,theme:t,colors:n,fontFamily:i}})=>({fontSize:K(16,e),fontFamily:i,color:n[t].primary}))),Be=Z("div")((({settings:{fontSizeScale:e,colors:t,theme:n}})=>({fontSize:K(10,e),fontFamily:"arial",color:t[n].default,opacity:.3}))),We=Z("div")((({settings:{fontSizeScale:e,theme:t,colors:n,fontFamily:i}})=>({fontSize:K(16,e),lineHeight:K(25,e),fontFamily:i,direction:"ltr",textAlign:"left",padding:"10px",margin:"10px 0",background:n[t].lightGrey,borderRadius:4,position:"relative",paddingRight:30}))),Ge=Z("div")((()=>({width:30,height:30,top:5,right:5,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",fontSize:17,webkitTouchCallout:"none",mozUserSelect:"none",msUserSelect:"none",khtmlUserSelect:"none",webkitUserSelect:"none"}))),qe=Z("div")((({settings:{fontSizeScale:e,theme:t,colors:n,fontFamily:i}})=>({fontSize:K(14,e),fontFamily:i,color:n[t].default}))),Ye=Z("div")((({settings:{fontSizeScale:e,theme:t,colors:n,fontFamily:i}})=>({fontSize:K(14,e),fontFamily:i,color:n[t].tertiary}))),Xe=Z("div")((({settings:{fontSizeScale:e,colors:t,theme:n}})=>({fontSize:K(10,e),lineHeight:K(20,e),fontFamily:"arial",color:t[n].default,opacity:.3}))),Ze=({verse:e,settings:t,isHebreu:n,secondaryVerse:i,selectedCode:s})=>{const[o,r]=ve(!1),l=e.Texte.split("@");return I`<${Oe} settings=${t} id=${`verset-${e.Verset}`}>${i&&o&&I`<${We} settings=${t}><${Ge} onClick=${()=>r(!1)}> ✕ <//>${i.Verset} ${i.Texte}<//>`}<${De} settings=${t}>${e.Verset} <//>${l.map(((e,i)=>{const[o,r,l,a,c]=e.split("#"),u=function(e){let t,n=e[0],i=1;for(;i<e.length;){const s=e[i],o=e[i+1];if(i+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}([s,"optionalAccess",e=>e.reference,"optionalAccess",e=>e.toString,"call",e=>e()])===o;return I`<div key=${i} style=${{position:"relative",display:"inline-block"}}><${Re} settings=${t} isSelected=${u}><${Be} settings=${t}>${o}<//><${je} settings=${t}>${r}<//><${qe} settings=${t}>${l}<//>${c&&I`<${Ye} settings=${t}>${c}<//>`}${a&&I`<${Xe} settings=${t}>${a}<//>`}<//><${He} onClick=${()=>((e,t)=>{J({type:"NAVIGATE_TO_STRONG",payload:{reference:e,book:t?1:40}})})(o,n)} settings=${t}><${Ue} isSelected=${u} settings=${t}>${r}<//><//></div>`}))}<//>`};function Je(e,t){e=e.replace("#","");return`rgba(${parseInt(e.substring(0,2),16)},${parseInt(e.substring(2,4),16)},${parseInt(e.substring(4,6),16)},${t/100})`}const Ke=Z("span")((({isParallel:e,settings:{fontSizeScale:t}})=>({fontSize:K(e?16:19,t),lineHeight:K(e?26:32,t)}))),Qe=Z("span")((({isFocused:e,settings:{fontSizeScale:t}})=>({fontSize:K(14,t)}))),et=X({"0%":{background:Je("#95afc0",0)},"50%":{background:Je("#95afc0",30)},"100%":{background:Je("#95afc0",0)}}),tt=Z("span")((({isFocused:e,isTouched:t,isSelected:n,highlightedColor:i,isVerseToScroll:s,settings:{theme:o,colors:r,fontFamily:l}})=>{let a="transparent";if(i&&!n){a=Je(r[o][i],50)}return t&&(a="rgba(0,0,0,0.1)"),{fontFamily:l,transition:"background 0.3s ease",background:a,padding:"4px",borderBottom:n?"2px dashed rgb(52,73,94)":"none",WebkitTouchCallout:"none",MozUserSelect:"none",msUserSelect:"none",KhtmlUserSelect:"none",WebkitUserSelect:"none",...s?{animation:`0.75s ease 0s 3 normal none running ${et}`}:{},...!1===e?{opacity:.5}:{}}})),nt=Z("span")((({settings:{textDisplay:e}})=>({display:e,..."block"===e?{marginBottom:"5px"}:{}}))),it=Z("div")((()=>({marginTop:5})));class st extends f{constructor(...e){super(...e),st.prototype.__init.call(this),st.prototype.__init2.call(this),st.prototype.__init3.call(this),st.prototype.__init4.call(this),st.prototype.__init5.call(this),st.prototype.__init6.call(this),st.prototype.__init7.call(this),st.prototype.__init8.call(this),st.prototype.__init9.call(this),st.prototype.__init10.call(this),st.prototype.__init11.call(this),st.prototype.__init12.call(this),st.prototype.__init13.call(this)}__init(){this.state={isTouched:!1}}__init2(){this.moved=!1}__init3(){this.shouldShortPress=!1}componentDidMount(){this.detectScroll=window.addEventListener("scroll",(()=>{this.moved||(this.moved=!0)}))}componentWillUnmount(){this.detectScroll=window.removeEventListener("scroll",this.detectScroll)}__init4(){this.navigateToVerseNotes=()=>{const{verse:{Livre:e,Chapitre:t,Verset:n}}=this.props;J({type:"NAVIGATE_TO_VERSE_NOTES",payload:`${e}-${t}-${n}`})}}__init5(){this.navigateToBibleVerseDetail=(e={})=>{J({type:"NAVIGATE_TO_BIBLE_VERSE_DETAIL",params:{...e,verse:this.props.verse}})}}__init6(){this.navigateToNote=e=>{J({type:"NAVIGATE_TO_BIBLE_NOTE",payload:e})}}__init7(){this.onPress=()=>{const{isSelectedMode:e,isSelectionMode:t,settings:{press:n}}=this.props;t&&t.includes("verse")?this.toggleSelectVerse():t&&t.includes("strong")?this.navigateToBibleVerseDetail({isSelectionMode:t}):e||"longPress"===n?this.toggleSelectVerse():this.navigateToBibleVerseDetail()}}__init8(){this.onLongPress=()=>{const{settings:{press:e},isSelectionMode:t}=this.props;t||(this.shouldShortPress=!1,!1===this.moved&&("shortPress"===e?this.toggleSelectVerse():(this.setState({isTouched:!1}),this.navigateToBibleVerseDetail())))}}__init9(){this.toggleSelectVerse=()=>{const{verse:{Livre:e,Chapitre:t,Verset:n}}=this.props;J({type:"TOGGLE_SELECTED_VERSE",payload:`${e}-${t}-${n}`})}}__init10(){this.onTouchStart=()=>{this.shouldShortPress=!0,this.moved=!1,this.setState({isTouched:!0}),this.buttonPressTimer=setTimeout(this.onLongPress,400)}}__init11(){this.onTouchEnd=()=>{this.setState({isTouched:!1}),clearTimeout(this.buttonPressTimer),this.shouldShortPress&&!1===this.moved&&this.onPress()}}__init12(){this.onTouchCancel=()=>{clearTimeout(this.buttonPressTimer)}}__init13(){this.onTouchMove=()=>{this.moved=!0,this.state.isTouched&&this.setState({isTouched:!1})}}render(){const{verse:e,parallelVerse:t,secondaryVerse:n,isSelected:i,highlightedColor:s,notesCount:o,settings:r,isVerseToScroll:l,notesText:a,isSelectionMode:c,version:u,isHebreu:_,selectedCode:d,isSelectedMode:p,isFocused:h,isParallel:f,isParallelVerse:g,isINTComplete:v,tag:m}=this.props,{isTouched:$}=this.state,y="inline"===r.notesDisplay;if(g&&t)return I`<div style=${{display:"flex"}}>${t.map(((e,t)=>e.verse?I`<div key=${t} style=${{flex:1,padding:"5px 0",paddingLeft:0===t?"0px":"10px"}}><${st} isParallel isHebreu=${_} verse=${e.verse} version=${e.version} settings=${r} isSelected=${i} isSelectedMode=${p} isSelectionMode=${c} highlightedColor=${s} notesCount=${o} notesText=${a} isVerseToScroll=${l} selectedCode=${d} isFocused=${h} tag=${m}/></div>`:null))}</div>`;if("LSGS"===u||"KJVS"===u)return I`<${Le} isParallel=${f} selectedCode=${d} verse=${e} settings=${r} isFocused=${h} isTouched=${$} isSelected=${i} isVerseToScroll=${l&&1!==Number(e.Verset)} highlightedColor=${s} onTouchStart=${this.onTouchStart} onTouchEnd=${this.onTouchEnd} onTouchMove=${this.onTouchMove} onTouchCancel=${this.onTouchCancel} notesCount=${o} inlineNotedVerses=${y} isSelectionMode=${c} notesText=${a} navigateToVerseNotes=${this.navigateToVerseNotes} navigateToNote=${this.navigateToNote} tag=${m}/>`;if("INT"===u)return v?I`<${Me} secondaryVerse=${n} isHebreu=${_} settings=${r} verse=${e} selectedCode=${d}/>`:I`<${Ze} secondaryVerse=${n} isHebreu=${_} settings=${r} verse=${e} selectedCode=${d}/>`;let S=e.Texte.split(/(\n)/g);return S.length>1&&(S=S.map(((e,t)=>"\n"===e?I`<${it} key=${t}/>`:e))),I`<${nt} settings=${r} id=${`verset-${e.Verset}`}><${tt} isFocused=${h} settings=${r} isTouched=${$} isSelected=${i} isVerseToScroll=${l&&1!==Number(e.Verset)} highlightedColor=${s}><${Qe} isFocused=${h} settings=${r}>${e.Verset} <//>${o&&!y&&!c&&I`<${ne} settings=${r} onClick=${this.navigateToVerseNotes} count=${o}/>`}<${Ke} isParallel=${f} settings=${r} onTouchStart=${this.onTouchStart} onTouchEnd=${this.onTouchEnd} onTouchMove=${this.onTouchMove} onTouchCancel=${this.onTouchCancel}>${S}<//>${m&&I`<${Pe} settings=${r} tag=${m}/>`}<//>${a&&y&&!c&&I`<${oe} isParallel=${f} settings=${r} onClick=${this.navigateToNote} notesText=${a}/>`}<//>`}}function ot(e){const t=$e();return me((()=>{t.current=e})),t.current}const rt=Z("div")((({settings:{fontSizeScale:e,fontFamily:t,theme:n,colors:i}})=>({padding:K(14,e),margin:"10px 0",background:i[n].lightGrey,borderRadius:4,position:"relative",overflow:"hidden",textAlign:"left",p:{fontSize:K(17,e),lineHeight:K(25,e),fontFamily:t,margin:0},li:{fontFamily:t},"p+p":{marginTop:K(25,e)},h3:{fontFamily:t,margin:0,paddingBottom:K(25,e),fontSize:K(18,e)},a:{color:i[n].primary}}))),lt=Z("div")((({settings:{fontSizeScale:e,fontFamily:t}})=>({fontSize:K(15,e),fontFamily:t,textAlign:"center",height:20,display:"flex",alignItems:"center",justifyContent:"center",margin:"20px 0"}))),at=Z("div")((({settings:{fontSizeScale:e,fontFamily:t}})=>({fontSize:K(15,e),fontFamily:t,textAlign:"center",paddingBottom:K(20,e),paddingTop:K(15,e)})));Z("div")((({settings:{theme:e,colors:t,fontSizeScale:n,fontFamily:i}})=>({fontSize:K(10,n),fontFamily:i,textAlign:"center",color:t[e].darkGrey,paddingBottom:K(5,n),paddingTop:K(5,n)})));const ct=({id:e,settings:t,comment:n,isIntro:i})=>{const[s,o]=ve(!1),[r,l]=ve(n.replace(/&amp;nbsp;/g," ")),a=ot(s),c=ot(n);return me((()=>{document.querySelectorAll(`#${e} a`).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.attributes.href.textContent,n=t.substr(0,3),i=t.substr(3).split("."),[s]=i;let[,o]=i;o.includes("-")&&([o]=o.split("-")),J({type:"NAVIGATE_TO_BIBLE_VIEW",bookCode:n,chapter:s,verse:o})}))}))}),[r,e,s]),me((()=>{if(c!==n)return l(n.replace(/&amp;nbsp;/g," ")),void o(!1);s?l(n.replace(/&amp;nbsp;/g," ")):a&&!s&&function(e){let t,n=e[0],i=1;for(;i<e.length;){const s=e[i],o=e[i+1];if(i+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}}([document,"access",e=>e.getElementById,"call",t=>t(e),"optionalAccess",e=>e.scrollIntoView,"call",e=>e()])}),[n,e,c,a,s]),I`<div id=${e}>${s&&I`<${rt} settings=${t}>${i&&I`<${at} settings=${t}>Introduction<//>`}<div dangerouslySetInnerHTML=${{__html:r}} style=${{paddingBottom:20}}/><//>`}<${lt} onClick=${()=>{o((e=>!e))}} settings=${t}>${s?"- Fermer -":"- Lire le commentaire -"}<//></div>`};function ut(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function _t(e){this.props=e}(_t.prototype=new f).isPureReactComponent=!0,_t.prototype.shouldComponentUpdate=function(e,t){return ut(this.props,e)||ut(this.state,t)};var dt=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),dt&&dt(e)};var pt=t.__e;t.__e=function(e,t,n){if(e.then)for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);pt(e,t,n)};var ht=t.unmount;function ft(){this.__u=0,this.t=null,this.__b=null}function gt(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function vt(){this.u=null,this.o=null}t.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),ht&&ht(e)},(ft.prototype=new f).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var s=gt(i.__v),o=!1,r=function(){o||(o=!0,n.__R=null,s?s(l):l())};n.__R=r;var l=function(){if(!--i.__u){if(i.state.__e){var e=i.state.__e;i.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)})),t.__c&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__e:i.__b=null});t=i.t.pop();)t.forceUpdate()}},a=!0===t.__h;i.__u++||a||i.setState({__e:i.__b=i.__v.__k[0]}),e.then(r,r)},ft.prototype.componentWillUnmount=function(){this.t=[]},ft.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)}))),t}(this.__b,n,i.__O=i.__P)}this.__b=null}var s=t.__e&&d(h,null,e.fallback);return s&&(s.__h=null),[d(h,null,t.__e?null:e.children),s]};var mt=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(vt.prototype=new f).__e=function(e){var t=this,n=gt(t.__v),i=t.o.get(e);return i[0]++,function(s){var o=function(){t.props.revealOrder?(i.push(s),mt(t,e,i)):s()};n?n(o):o()}},vt.prototype.render=function(e){this.u=null,this.o=new Map;var t=b(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},vt.prototype.componentDidUpdate=vt.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){mt(e,n,t)}))};var $t="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,yt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,St="undefined"!=typeof document,bt=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};f.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(f.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Tt=t.event;function kt(){}function xt(){return this.cancelBubble}function Ct(){return this.defaultPrevented}t.event=function(e){return Tt&&(e=Tt(e)),e.persist=kt,e.isPropagationStopped=xt,e.isDefaultPrevented=Ct,e.nativeEvent=e};var Vt={configurable:!0,get:function(){return this.class}},wt=t.vnode;t.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){var s=-1===t.indexOf("-");for(var o in i={},n){var r=n[o];St&&"children"===o&&"noscript"===t||"value"===o&&"defaultValue"in n&&null==r||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===r?r="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!bt(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():s&&yt.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===r&&(r=void 0),i[o]=r)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=b(n.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==t&&null!=i.defaultValue&&(i.value=b(n.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i}t&&n.class!=n.className&&(Vt.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",Vt)),e.$$typeof=$t,wt&&wt(e)};var Et=t.__r;function Nt(e){return I`<svg width=${13} height=${13} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth=${2} strokeLinecap="round" strokeLinejoin="round" className="prefix__feather prefix__feather-chevron-down" ...${e}><path d="M6 9l6 6 6-6"/></svg>`}function Ft(e){return I`<svg style=${{marginLeft:10}} width=${16} height=${16} viewBox="0 0 24 24" data-tags="external-link" ...${e}><path d="M17 13v6c0 .276-.111.525-.293.707S16.276 20 16 20H5c-.276 0-.525-.111-.707-.293S4 19.276 4 19V8c0-.276.111-.525.293-.707S4.724 7 5 7h6a1 1 0 000-2H5a2.997 2.997 0 00-3 3v11a2.997 2.997 0 003 3h11a2.997 2.997 0 003-3v-6a1 1 0 00-2 0zm-6.293 1.707L20 5.414V9a1 1 0 002 0V3a.995.995 0 00-.292-.706l-.002-.002A.996.996 0 0021 2h-6a1 1 0 000 2h3.586l-9.293 9.293a.999.999 0 101.414 1.414z" fill="#444"/></svg>`}function At(e){return I`<svg width=${16} height=${16} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth=${2} strokeLinecap="round" strokeLinejoin="round" className="prefix__feather prefix__feather-minus-circle" ...${e}><circle cx=${12} cy=${12} r=${10}/><path d="M8 12h8"/></svg>`}t.__r=function(e){Et&&Et(e)},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value(e,t){if(null==this)throw new TypeError('"this" is null or not defined');const n=Object(this),i=n.length>>>0;if(0===i)return!1;const s=0|t;let o=Math.max(s>=0?s:i-Math.abs(s),0);function r(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}for(;o<i;){if(r(n[o],e))return!0;o++}return!1}}),Object.entries||(Object.entries=function(e){const t=Object.keys(e);let n=t.length;const i=new Array(n);for(;n--;)i[n]=[t[n],e[t[n]]];return i}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(let n=0;n<this.length;n++)e.call(t,this[n],n,this)}),function(e,t){"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i},e.CustomEvent.prototype=e.Event.prototype),t.addEventListener("touchstart",(function(e){"true"!==e.target.getAttribute("data-swipe-ignore")&&(l=e.target,r=Date.now(),n=e.touches[0].clientX,i=e.touches[0].clientY,s=0,o=0)}),!1),t.addEventListener("touchmove",(function(e){if(n&&i){var t=e.touches[0].clientX,r=e.touches[0].clientY;s=n-t,o=i-r}}),!1),t.addEventListener("touchend",(function(e){if(l===e.target){var t=parseInt(a(l,"data-swipe-threshold","20"),10),c=parseInt(a(l,"data-swipe-timeout","500"),10),u=Date.now()-r,_="",d=e.changedTouches||e.touches||[];if(Math.abs(s)>Math.abs(o)?Math.abs(s)>t&&u<c&&(_=s>0?"swiped-left":"swiped-right"):Math.abs(o)>t&&u<c&&(_=o>0?"swiped-up":"swiped-down"),""!==_){var p={dir:_.replace(/swiped-/,""),xStart:parseInt(n,10),xEnd:parseInt((d[0]||{}).clientX||-1,10),yStart:parseInt(i,10),yEnd:parseInt((d[0]||{}).clientY||-1,10)};l.dispatchEvent(new CustomEvent("swiped",{bubbles:!0,cancelable:!0,detail:p})),l.dispatchEvent(new CustomEvent(_,{bubbles:!0,cancelable:!0,detail:p}))}n=null,i=null,r=null}}),!1);var n=null,i=null,s=null,o=null,r=null,l=null;function a(e,n,i){for(;e&&e!==t.documentElement;){var s=e.getAttribute(n);if(s)return s;e=e.parentNode}return i}}(window,document);const Pt=Z("div")((({settings:{alignContent:e,theme:t,colors:n},rtl:i,isParallelVerse:s})=>({maxWidth:s?"none":"800px",margin:"0 auto",padding:s?"10px 0":"10px 15px",paddingBottom:"210px",textAlign:e,background:n[t].reverse,color:n[t].default,direction:i?"rtl":"ltr",...i?{textAlign:"right"}:{}}))),zt=Z("div")((({settings:{theme:e,colors:t}})=>({textAlign:"right",marginBottom:20,fontFamily:"arial",fontSize:13,color:t[e].darkGrey}))),It=Z("div")((({settings:{theme:e,colors:t}})=>({textAlign:"right",marginBottom:20,fontFamily:"arial",fontSize:13,color:t[e].default}))),Lt=Z("span")({}),Mt=Z("h1")((({settings:{fontSizeScale:e,fontFamily:t},isHebreu:n})=>({fontFamily:t,fontSize:K(28,e),textAlign:n?"right":"left"}))),Ot=Z("h2")((({settings:{fontSizeScale:e,fontFamily:t},isHebreu:n})=>({fontFamily:t,fontSize:K(24,e),textAlign:n?"right":"left"}))),Ht=Z("h3")((({settings:{fontSizeScale:e,fontFamily:t},isHebreu:n})=>({fontFamily:t,fontSize:K(20,e),textAlign:n?"right":"left"}))),Rt=Z("h4")((({settings:{fontSizeScale:e,fontFamily:t},isHebreu:n})=>({fontFamily:t,fontSize:K(18,e),textAlign:n?"right":"left"}))),Dt=Z("div")((({settings:{fontSizeScale:e,fontFamily:t}})=>({fontFamily:t,fontWeight:"bold",fontSize:K(18,e)}))),Ut=Z("div")((({settings:{theme:e,colors:t}})=>({display:"flex",position:"sticky",top:0,background:t[e].reverse,paddingTop:"5px",paddingBottom:"10px"}))),jt=["@media (min-width: 640px)"],Bt=Z((function(e){return I`<svg width=${24} height=${24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth=${2} strokeLinecap="round" strokeLinejoin="round" className="prefix__feather prefix__feather-plus-square" ...${e}><rect x=${3} y=${3} width=${18} height=${18} rx=${2} ry=${2}/><path d="M12 8v8M8 12h8"/></svg>`}))((({settings:{theme:e,colors:t}})=>({position:"absolute",top:"50%",transform:"translateY(-50%)",right:"0",color:t[e].primary,display:"none",[jt[0]]:{display:"block"}})));!function(e,t,n,i){j.p=t,L=e,M=n,O=i}(d),function(n,i,s){var o,r,a;t.__&&t.__(n,i),r=(o="function"==typeof s)?null:s&&s.__k||i.__k,a=[],w(i,n=(!o&&s||i).__k=d(h,null,[n]),r||l,l,void 0!==i.ownerSVGElement,!o&&s?[s]:r?null:i.firstChild?e.call(i.childNodes):null,a,!o&&s?s:r?r.__e:i.firstChild,o),E(a,n)}(I`<${class extends f{state={verses:[],parallelVerses:[],secondaryVerses:[],comments:null,focusVerses:[],selectedVerses:{},highlightedVerses:{},taggedVerses:null,notedVersesCount:{},notedVersesText:{},settings:{},verseToScroll:null,version:"LSG",pericopeChapter:{},chapter:"",isSelectionMode:"",selectedCode:null,isINTComplete:!0};componentDidMount(){document.addEventListener("swiped-left",(function(e){console.log("sw-left"),J({type:"SWIPE_LEFT"})})),document.addEventListener("swiped-right",(function(e){console.log("sw-right"),J({type:"SWIPE_RIGHT"})})),J({type:"CONSOLE_LOG",payload:"I did mount"}),this.receiveDataFromApp()}componentDidUpdate(e,t){if(t&&t.chapter!==this.state.chapter&&1===this.state.verseToScroll&&window.scrollTo(0,0),t&&t.settings?.theme!==this.state.settings?.theme&&(document.body.style.backgroundColor=this.state.settings.colors[this.state.settings.theme].reverse),t&&t.verseToScroll!==this.state.verseToScroll){if(!t.verseToScroll&&1===this.state.verseToScroll)return;setTimeout((()=>{document.querySelector(`#verset-${this.state.verseToScroll}`)?.scrollIntoView()}),200)}}sortVersesToTags=e=>{if(!e)return null;const t=e;return Object.keys(t).reduce(((e,n,i)=>{n.split("-").map(Number),e.find((e=>e.date===t[n].date))||e.push({date:t[n].date,color:t[n].color,verseIds:[],tags:{}});const s=e.find((e=>e.date===t[n].date));return s&&(s.verseIds.push(n),s.verseIds.sort(((e,t)=>Number(e.Verset)-Number(t.Verset))),s.tags={...s.tags,...t[n].tags}),e.sort(((e,t)=>Number(t.date)-Number(e.date))),e}),[]).map((e=>({...e,lastVerse:e.verseIds[e.verseIds.length-1],tags:Object.values(e.tags)})))};getNotedVersesCount=(e,t)=>{const n={};if(e?.length){const{Livre:i,Chapitre:s}=e[0];Object.keys(t).map((e=>{const t=e.split("/")[0],o=parseInt(t.split("-")[0]),r=parseInt(t.split("-")[1]),l=t.split("-")[2];o===i&&r===s&&(n[l]?n[l]=n[l]+1:n[l]=1)}))}return n};getNotedVersesText=(e,t)=>{const n={};if(e?.length){const{Livre:i,Chapitre:s}=e[0];Object.entries(t).map((([e,t])=>{const o=e.split("/"),r=o[o.length-1],l=parseInt(r.split("-")[0]),a=parseInt(r.split("-")[1]),c=r.split("-")[2];if(l===i&&a===s){const i={key:e,verses:o.length>1?`${o[0].split("-")[2]}-${o[o.length-1].split("-")[2]}`:o[0].split("-")[2],...t};n[c]?n[c].push(i):n[c]=[i]}}))}return n};transformComments=(e,t)=>e?Object.entries(e).reduce(((n,[i,s],o)=>{if(0===i)return{...n,[i]:s};if(Object.entries(e)[o+1]){const t=Number(Object.keys(e)[o+1])-1;return{...n,[t]:s}}return{...n,[t]:s}}),{}):null;receiveDataFromApp=()=>{const e=this;document.addEventListener("message",(t=>{try{const i=t.data;switch(i.type){case"SEND_INITIAL_DATA":{const{verses:t,parallelVerses:s,focusVerses:o,secondaryVerses:r,comments:l,selectedVerses:a,highlightedVerses:c,notedVerses:u,settings:_,verseToScroll:d,version:p,pericopeChapter:h,chapter:f,isSelectionMode:g,selectedCode:v,fontFamily:m}=i;e.setState({verses:(n=t,n&&!n.error?t.sort(((e,t)=>e.Verset-t.Verset)):null),parallelVerses:s,focusVerses:o,taggedVerses:this.sortVersesToTags(c),secondaryVerses:r?r.sort(((e,t)=>e.Verset-t.Verset)):null,comments:this.transformComments(l,t.length),selectedVerses:a,highlightedVerses:c,notedVerses:u,notedVersesCount:this.getNotedVersesCount(t,u),notedVersesText:this.getNotedVersesText(t,u),settings:{..._,fontFamily:m},verseToScroll:d,version:p,pericopeChapter:h,chapter:f,isSelectionMode:g,selectedCode:v});break}}}catch(i){J({type:"THROW_ERROR",payload:`${i}`})}var n}))};navigateToPericope=()=>{J({type:"NAVIGATE_TO_PERICOPE"})};navigateToVersion=(e,t)=>{J({type:"NAVIGATE_TO_VERSION",payload:{version:e,index:t}})};removeParallelVersion=e=>{J({type:"REMOVE_PARALLEL_VERSION",payload:e})};addParallelVersion=()=>{J({type:"ADD_PARALLEL_VERSION"})};render(){if(!this.state.verses)return I`<div style=${{height:"100vh",fontFamily:"arial",display:"flex",alignItems:"center",justifyContent:"center",textTransform:"uppercase"}}> Une erreur est survenue. </div>`;if(!this.state.verses.length)return null;const e="BHS"===this.state.version||"INT"===this.state.version&&Number(this.state.verses[0].Livre)<40,t=this.state.comments&&this.state.comments[0],n=this.state.parallelVerses&&!!this.state.parallelVerses.length,i=n&&(s=this.state.parallelVerses,[this.state.version,...s.map((e=>e.id))]);var s;return I`<${Pt} rtl=${e} settings=${this.state.settings} isParallelVerse=${n}>${n&&I`<${Ut} settings=${this.state.settings}>${i.map(((e,t)=>I`<div style=${{flex:1,display:"flex",alignItems:"center"}}><${Dt} onClick=${()=>this.navigateToVersion(e,t)} style=${{paddingLeft:0===t?"0px":"10px"}} key=${t} settings=${this.state.settings}>${e}<${Nt} style=${{marginLeft:4}}/><//>${0!==t&&I`<${At} onClick=${()=>this.removeParallelVersion(t)} style=${{marginLeft:20,opacity:.5}}/>`}</div>`))}${this.state.parallelVerses.length<3&&I`<${Bt} settings=${this.state.settings} onClick=${()=>this.addParallelVersion()}/>`}<//>`}${"INT"===this.state.version&&I`<${It} settings=${this.state.settings} onClick=${()=>this.setState({isINTComplete:!this.state.isINTComplete})}>${this.state.isINTComplete?"Mode 1":"Mode 2"}<//>`}${e&&I`<${zt} settings=${this.state.settings}> Sens de la lecture ← <//>`}${!!t&&this.state.settings.commentsDisplay&&I`<${ct} isIntro id="comment-0" settings=${this.state.settings} comment=${t}/>`}${this.state.verses.map(((t,i)=>{if(0==t.Verset)return null;const{Livre:s,Chapitre:o,Verset:r}=t,l=!!this.state.selectedVerses[`${s}-${o}-${r}`],a=!!Object.keys(this.state.selectedVerses).length,c=!!this.state.highlightedVerses[`${s}-${o}-${r}`],u=this.state.taggedVerses?.find((e=>e.lastVerse===`${s}-${o}-${r}`)),_=c&&this.state.highlightedVerses[`${s}-${o}-${r}`].color,d=this.state.notedVersesCount[r],p=this.state.notedVersesText[r],h=this.state.comments&&this.state.comments[r],f=this.state.focusVerses?this.state.focusVerses.includes(Number(r)):void 0,g=this.state.verseToScroll==r,v=this.state.secondaryVerses&&this.state.secondaryVerses[i],m=n&&((e,t,n,i)=>[{version:i,verse:n},...t.map((t=>({version:t.id,verse:t.verses[e]})))])(i,this.state.parallelVerses,t,this.state.version),{h1:$,h2:y,h3:S,h4:b}=((e,t)=>e&&e[t]?e[t]:{})(this.state.pericopeChapter,r);return I`<${Lt} key=${`${s}-${o}-${r}`}>${$&&I`<${Mt} isHebreu=${e} settings=${this.state.settings} onClick=${this.navigateToPericope}>${$}<${Ft}/><//>`}${y&&I`<${Ot} isHebreu=${e} settings=${this.state.settings} onClick=${this.navigateToPericope}>${y}<${Ft}/><//>`}${S&&I`<${Ht} isHebreu=${e} settings=${this.state.settings} onClick=${this.navigateToPericope}>${S}<${Ft}/><//>`}${b&&I`<${Rt} isHebreu=${e} settings=${this.state.settings} onClick=${this.navigateToPericope}>${b}<${Ft}/><//>`}<${st} isHebreu=${e} version=${this.state.version} verse=${t} isParallelVerse=${n} parallelVerse=${m} secondaryVerse=${v} settings=${this.state.settings} isSelected=${l} isSelectedMode=${a} isSelectionMode=${this.state.isSelectionMode} highlightedColor=${_} notesCount=${d} notesText=${p} isVerseToScroll=${g} selectedCode=${this.state.selectedCode} isFocused=${f} isINTComplete=${this.state.isINTComplete} tag=${u}/>${!!h&&this.state.settings.commentsDisplay&&I`<${ct} id=${`comment-${t.Verset}`} settings=${this.state.settings} comment=${h}/>`}<//>`}))}<//>`}}}/>`,document.body);</script></body></html>